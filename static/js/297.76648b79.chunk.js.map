{"version":3,"file":"static/js/297.76648b79.chunk.js","mappings":"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","sources":["components/ProjectDetails/ProjectDetails.styled.js","components/ProjectDetails/ProjectDetails.jsx"],"sourcesContent":["import styled from \"styled-components\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nexport const BackLink = styled(NavLink)`\r\n  display: inline-flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: ${(props) => props.theme.space[2]}px;\r\n  margin-bottom: 15px;\r\n\r\n  min-width: 100px;\r\n  /* margin: ${(props) => props.theme.space[2]}px; */\r\n  padding-top: ${(props) => props.theme.space[2]}px;\r\n  padding-bottom: ${(props) => props.theme.space[2]}px;\r\n  padding-left: ${(props) => props.theme.space[3]}px;\r\n  padding-right: ${(props) => props.theme.space[3]}px;\r\n\r\n  border: ${(props) => props.theme.borders.bold};\r\n  border-radius: ${(props) => props.theme.radii.normal};\r\n\r\n  background-color: ${(props) =>\r\n    props.disabled\r\n      ? props.theme.colors.muted\r\n      : props.theme.colors.backgroundWhite};\r\n  font-size: ${(props) => props.theme.fontSizes.m};\r\n\r\n  &:hover:not(:disabled),\r\n  &:focus:not(:disabled) {\r\n    cursor: pointer;\r\n    color: ${(props) => props.theme.colors.white};\r\n    border-color: ${(props) => props.theme.colors.black};\r\n    background-color: ${(props) => props.theme.colors.hover};\r\n  }\r\n`;\r\n\r\nexport const Table = styled.table`\r\n  border-collapse: collapse;\r\n\r\n  & caption {\r\n    text-align: left;\r\n  }\r\n\r\n  & th,\r\n  & td {\r\n    padding: 2px 10px;\r\n    border: 1px solid #2a2a2a;\r\n  }\r\n\r\n  & tr:hover {\r\n    /* background-color: ${(props) => props.theme.colors.white}; */\r\n    /* box-shadow: ${(props) => props.theme.shadows.shadow}; */\r\n  }\r\n`;\r\n\r\nexport const ServiceRow = styled.tr`\r\n  background-color: bisque;\r\n`;\r\n\r\nexport const SubMaterialRow = styled.tr`\r\n  background-color: ${(props) => props.theme.colors.backgroundMain};\r\n`;\r\n\r\nexport const MaterialRow = styled.tr`\r\n  background-color: ${(props) => props.theme.colors.backgroundMain};\r\n`;\r\n\r\nexport const Code = styled.td`\r\n  white-space: nowrap;\r\n  /* width: 100px; */\r\n`;\r\n\r\nexport const List = styled.ul`\r\n  margin-left: ${(props) => props.theme.space[4]}px;\r\n\r\n  /* border-left: 2px solid; */\r\n`;\r\n\r\nexport const Item = styled.li`\r\n  /* margin-bottom: ${(props) => props.theme.space[1]}px; */\r\n  &:hover,\r\n  &:focus {\r\n    cursor: pointer;\r\n  }\r\n\r\n  &:not(:last-child) {\r\n    margin-bottom: ${(props) => props.theme.space[1]}px;\r\n  }\r\n`;\r\n\r\nexport const MaterialHeader = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n`;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useParams, useLocation } from \"react-router-dom\";\r\nimport { getProjectById } from \"../../services\";\r\nimport { toast } from \"react-toastify\";\r\nimport Section from \"../Section/Section\";\r\nimport { BarLoader } from \"react-spinners\";\r\nimport {\r\n  Table,\r\n  BackLink,\r\n  Code,\r\n  MaterialRow,\r\n  SubMaterialRow,\r\n  ServiceRow,\r\n} from \"./ProjectDetails.styled\";\r\nimport { IoMdArrowRoundBack } from \"react-icons/io\";\r\nimport { IoHammer } from \"react-icons/io5\";\r\nimport { FaTrowelBricks } from \"react-icons/fa6\";\r\nimport { GoSquareFill } from \"react-icons/go\";\r\n\r\nconst ProjectDetails = () => {\r\n  const { id } = useParams();\r\n  const [project, setProject] = useState(null);\r\n  const [isLoading, setisLoading] = useState(false);\r\n\r\n  const location = useLocation();\r\n\r\n  useEffect(() => {\r\n    const controller = new AbortController();\r\n    async function getProject(id) {\r\n      try {\r\n        setisLoading(true);\r\n        const response = await getProjectById(id, controller.signal);\r\n        // console.log(\"response effect: \", response.data);\r\n        setProject(response.data);\r\n      } catch (error) {\r\n        toast.error(\"Не вдалось завантажити проект\");\r\n      } finally {\r\n        setisLoading(false);\r\n      }\r\n    }\r\n\r\n    getProject(id);\r\n\r\n    return () => {\r\n      setProject(null);\r\n      controller.abort();\r\n    };\r\n  }, [id]);\r\n\r\n  // const totalMaterialPrice = useMemo(() => {\r\n  //   return project?.Materials.reduce((total, material) => {\r\n  //     return total + material.PriceInProject;\r\n  //   }, 0);\r\n  // }, [project]);\r\n\r\n  // const totalServicePrice = useMemo(() => {\r\n  //   return project?.Services.reduce((total, service) => {\r\n  //     return total + service.PriceInProject;\r\n  //   }, 0);\r\n  // }, [project]);\r\n\r\n  //   if (project.Services.Materials.length > 0) {\r\n  //     const totalServiceMaterialPrice =\r\n  //       project?.Services?.Materials.reduce((total, material) => {\r\n  //         return total + material.PriceInProject;\r\n  //       }, 0);\r\n  //     return totalServiceMaterialPrice;\r\n  //   }\r\n  // };\r\n\r\n  // функція зміни ціни матеріалу або сервісу в даному проекті\r\n  // function handleChange() {\r\n  //   console.log(\"handle change\");\r\n  // }\r\n\r\n  return (\r\n    <Section>\r\n      {isLoading && <BarLoader color=\"#125b56\" width=\"100%\" />}\r\n      {project && (\r\n        <>\r\n          <BackLink to={location.state.from}>\r\n            <IoMdArrowRoundBack />\r\n            До проектів\r\n          </BackLink>\r\n\r\n          <h2>{project.Title}</h2>\r\n\r\n          <div>\r\n            <Table>\r\n              <caption>матеріали і послуги даного проекту</caption>\r\n              <thead>\r\n                <tr>\r\n                  <th></th>\r\n                  <th>Код</th>\r\n                  <th>Опис</th>\r\n                  <th>Ціна ринкова</th>\r\n                  <th>Ціна в даному проекті</th>\r\n                  <th>Одиниці</th>\r\n                  <th>Витрата</th>\r\n                  <th>Витрата в даному проекті</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {project.Services &&\r\n                  project.Services.map((service) => {\r\n                    return (\r\n                      <>\r\n                        <ServiceRow key={service._id}>\r\n                          <td>\r\n                            <IoHammer />\r\n                          </td>\r\n                          <Code>{service.Code}</Code>\r\n                          <td>{service.DescriptionUA}</td>\r\n                          <td>{service.PriceUAH}</td>\r\n\r\n                          {/* <td>\r\n                            <input\r\n                              type=\"text\"\r\n                              value={service.PriceInProject}\r\n                              onChange={handleChange}\r\n                            />\r\n                          </td> */}\r\n                          <td>{service.PriceInProject}</td>\r\n\r\n                          <td>{service.Unit}</td>\r\n                          <td>{service.Consumption}</td>\r\n                          <td>{service.ConsumptionInProject}</td>\r\n                        </ServiceRow>\r\n\r\n                        {service.Materials?.length > 0 &&\r\n                          service.Materials.map((material) => {\r\n                            return (\r\n                              <SubMaterialRow key={material._id}>\r\n                                <td>\r\n                                  <GoSquareFill />\r\n                                </td>\r\n                                <td>{material.Code}</td>\r\n                                <td>{material.DescriptionUA}</td>\r\n                                <td>{material.PriceUAH}</td>\r\n                                <td>{material.PriceInProject}</td>\r\n                                <td>{material.Unit}</td>\r\n                                <td>{material.Consumption}</td>\r\n                                <td>{material.ConsumptionInProject}</td>\r\n                              </SubMaterialRow>\r\n                            );\r\n                          })}\r\n                      </>\r\n                    );\r\n                  })}\r\n\r\n                {project.Materials &&\r\n                  project.Materials.map((material) => {\r\n                    return (\r\n                      <MaterialRow key={material._id}>\r\n                        <td>\r\n                          <FaTrowelBricks />\r\n                        </td>\r\n                        <Code>{material.Code}</Code>\r\n                        <td>{material.DescriptionUA}</td>\r\n                        <td>{material.PriceUAH}</td>\r\n                        <td>{material.PriceInProject}</td>\r\n                        <td>{material.Unit}</td>\r\n                        <td>{material.Consumption}</td>\r\n                        <td>{material.ConsumptionInProject}</td>\r\n                      </MaterialRow>\r\n                    );\r\n                  })}\r\n              </tbody>\r\n            </Table>\r\n          </div>\r\n        </>\r\n      )}\r\n    </Section>\r\n  );\r\n};\r\n\r\nexport default ProjectDetails;\r\n"],"names":["BackLink","styled","NavLink","_templateObject","_taggedTemplateLiteral","props","theme","space","borders","bold","radii","normal","disabled","colors","muted","backgroundWhite","fontSizes","m","white","black","hover","Table","table","_templateObject2","shadows","shadow","ServiceRow","tr","_templateObject3","SubMaterialRow","_templateObject4","backgroundMain","MaterialRow","_templateObject5","Code","td","_templateObject6","ul","_templateObject7","li","_templateObject8","div","_templateObject9","id","useParams","_useState","useState","_useState2","_slicedToArray","project","setProject","_useState3","_useState4","isLoading","setisLoading","location","useLocation","useEffect","controller","AbortController","_getProject","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_context","prev","next","getProjectById","signal","sent","data","t0","toast","error","finish","stop","apply","arguments","_x","getProject","abort","_jsxs","Section","children","_jsx","BarLoader","color","width","_Fragment","to","state","from","IoMdArrowRoundBack","Title","Services","map","service","_service$Materials","IoHammer","DescriptionUA","PriceUAH","PriceInProject","Unit","Consumption","ConsumptionInProject","_id","Materials","length","material","GoSquareFill","FaTrowelBricks"],"sourceRoot":""}