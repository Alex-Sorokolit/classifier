{"version":3,"file":"static/js/377.289ed383.chunk.js","mappings":"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","sources":["components/ServiceTable/ServiceTable.styled.js","components/ServiceTable/ServiceTable.jsx","pages/ServicePage/ServicePage.styled.js","pages/ServicePage/ServicePage.jsx"],"sourcesContent":["import styled from \"styled-components\";\r\nexport const ListWrapper = styled.div`\r\n  /* outline: 2px solid red; */\r\n  margin-left: -${(props) => props.theme.space[3]}px;\r\n`;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport ServiceList from \"../ServiceList/ServiceList\";\r\nimport { getServiceByLevel } from \"../../services/api\";\r\nimport { toast } from \"react-toastify\";\r\nimport { BarLoader } from \"react-spinners\";\r\nimport { ListWrapper } from \"./ServiceTable.styled\";\r\n\r\nconst ServiceTable = ({ byId }) => {\r\n  const [mainCategory, setMainCategory] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  // Запит по всі головні категорії при монтуванні компонента\r\n  useEffect(() => {\r\n    const controller = new AbortController();\r\n    async function getCategory() {\r\n      try {\r\n        setIsLoading(true);\r\n        const response = await getServiceByLevel(2, controller.signal);\r\n        setMainCategory(response.data);\r\n      } catch {\r\n        toast.error(\"Щось пішло не так, спробуйте перезавантажити сторінку\");\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    }\r\n    getCategory();\r\n    return () => {\r\n      setMainCategory([]);\r\n      controller.abort();\r\n    };\r\n  }, [setMainCategory]);\r\n\r\n  return (\r\n    <>\r\n      {isLoading ? (\r\n        <BarLoader color=\"#125b56\" width=\"100%\" />\r\n      ) : (\r\n        <ListWrapper>\r\n          <ServiceList\r\n            items={mainCategory}\r\n            style={{ padding: 0 }}\r\n            byId={byId}\r\n          />\r\n        </ListWrapper>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ServiceTable;\r\n","import styled from \"styled-components\";\r\n\r\nexport const MainTableWrapper = styled.div`\r\n  max-height: 85vh;\r\n`;\r\n","import React, { useState } from \"react\";\r\nimport ServiceTable from \"../../components/ServiceTable/ServiceTable\";\r\nimport ServiceList from \"../../components/ServiceList/ServiceList\";\r\nimport Section from \"../../components/Section/Section\";\r\nimport Search from \"../../components/Search/Search\";\r\nimport {\r\n  searchServiceByDescription,\r\n  searchServiceByCode,\r\n  getServiceById,\r\n} from \"../../services/api\";\r\nimport { checkIsString, parseNumber } from \"../../services\";\r\nimport { MainTableWrapper } from \"./ServicePage.styled\";\r\nimport { toast } from \"react-toastify\";\r\nimport SearchResults from \"../../components/SearchResults/SearchResults\";\r\n\r\nconst ServicePage = () => {\r\n  const [searchResult, setSearchResult] = useState([]);\r\n  const [query, setQuery] = useState(\"\");\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [status, setStatus] = useState(\"services\"); // визначає що буде показано, матеріали чи результат пошуку по дереву\r\n  const [service, setService] = useState([]);\r\n\r\n  // Виклика8ється під час відправлення форми\r\n  const backToTable = () => {\r\n    setSearchResult([]);\r\n    setStatus(\"services\");\r\n  };\r\n\r\n  // Пошук елементів\r\n  const submit = (searchValue) => {\r\n    setStatus(\"search\");\r\n    const isString = checkIsString(searchValue);\r\n    const codeNumber = parseNumber(searchValue);\r\n\r\n    if (isString) {\r\n      setQuery(searchValue);\r\n\r\n      // console.log(`search ${searchValue} by description`);\r\n      async function search(searchValue) {\r\n        setIsLoading(true);\r\n        setSearchResult([]);\r\n        try {\r\n          const response = await searchServiceByDescription(searchValue);\r\n          if (response) {\r\n            setSearchResult(response.data);\r\n          }\r\n        } catch {\r\n          toast.error(`Не вдалось знайти ${searchValue}`, { autoClose: 3000 });\r\n        } finally {\r\n          setIsLoading(false);\r\n        }\r\n      }\r\n      search(searchValue);\r\n    } else {\r\n      async function search(codeNumber) {\r\n        // console.log(`search ${codeNumber} by code`);\r\n        setIsLoading(true);\r\n        setSearchResult([]);\r\n        try {\r\n          const response = await searchServiceByCode(codeNumber);\r\n          // console.log(response.data);\r\n          if (response) {\r\n            setSearchResult(response.data);\r\n          }\r\n        } catch {\r\n          toast.error(`Не вдалось знайти ${searchValue}`, { autoClose: 3000 });\r\n        } finally {\r\n          setIsLoading(false);\r\n        }\r\n      }\r\n      search(codeNumber);\r\n    }\r\n  };\r\n\r\n  // Отримати по id\r\n  const serviceById = (id) => {\r\n    console.log(\"service id: \", id);\r\n\r\n    setStatus(\"oneService\");\r\n    const controller = new AbortController();\r\n    async function getService(id) {\r\n      try {\r\n        //  setIsLoading(true);\r\n        const response = await getServiceById(id, controller.signal);\r\n        // console.log(\"response: \", response.data);\r\n\r\n        setService([response.data]);\r\n      } catch {\r\n        toast.error(\"Не вдалось отримати сервіс\");\r\n      } finally {\r\n        //  setIsLoading(false);\r\n      }\r\n    }\r\n    getService(id);\r\n    return () => {\r\n      controller.abort();\r\n    };\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Section>\r\n        <Search\r\n          submit={submit}\r\n          isLoading={isLoading}\r\n          back={backToTable}\r\n          isSubmiting={isLoading}\r\n        />\r\n      </Section>\r\n\r\n      <Section>\r\n        <MainTableWrapper>\r\n          {status === \"services\" && <ServiceTable byId={serviceById} />}\r\n\r\n          {status === \"oneService\" && (\r\n            <ServiceList items={service} byId={serviceById} />\r\n          )}\r\n\r\n          {status === \"search\" && (\r\n            <SearchResults\r\n              results={searchResult}\r\n              query={query}\r\n              variant=\"service\"\r\n              byId={serviceById}\r\n            />\r\n          )}\r\n        </MainTableWrapper>\r\n      </Section>\r\n      {/* <Section>\r\n        <MainTableWrapper>\r\n          {searchResult.length > 0 ? (\r\n            <SearchResults\r\n              results={searchResult}\r\n              query={query}\r\n              variant=\"service\"\r\n            />\r\n          ) : (\r\n            <ServiceTable />\r\n          )}\r\n        </MainTableWrapper>\r\n      </Section> */}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ServicePage;\r\n"],"names":["ListWrapper","styled","div","_templateObject","_taggedTemplateLiteral","props","theme","space","_ref","byId","_useState","useState","_useState2","_slicedToArray","mainCategory","setMainCategory","_useState3","_useState4","isLoading","setIsLoading","useEffect","controller","AbortController","_getCategory","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_context","prev","next","getServiceByLevel","signal","sent","data","t0","toast","error","finish","stop","apply","arguments","getCategory","abort","_jsx","_Fragment","children","BarLoader","color","width","ServiceList","items","style","padding","MainTableWrapper","searchResult","setSearchResult","query","setQuery","_useState5","_useState6","_useState7","_useState8","status","setStatus","_useState9","_useState10","service","setService","serviceById","id","console","log","_getService","_callee3","_context3","getServiceById","_x3","getService","_jsxs","Section","Search","submit","searchValue","isString","checkIsString","codeNumber","parseNumber","search","searchServiceByDescription","concat","autoClose","_x","_ref2","_callee2","_context2","searchServiceByCode","_x2","back","isSubmiting","ServiceTable","SearchResults","results","variant"],"sourceRoot":""}