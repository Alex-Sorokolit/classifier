{"version":3,"file":"static/js/592.8338310d.chunk.js","mappings":"qQAEaA,EAAcC,EAAAA,GAAOC,IAAGC,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,mEAEnB,SAACC,GAAK,OAAKA,EAAMC,MAAMC,MAAM,EAAE,I,mBC2CjD,EAvCsB,WACpB,IAAAC,GAAwCC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA7CI,EAAYF,EAAA,GAAEG,EAAeH,EAAA,GACpCI,GAAkCL,EAAAA,EAAAA,WAAS,GAAMM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAA1CE,EAASD,EAAA,GAAEE,EAAYF,EAAA,GAuB9B,OApBAG,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAa,IAAIC,gBACG,SAAAC,IAUzB,OAVyBA,GAAAC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAA1B,SAAAC,IAAA,IAAAC,EAAA,OAAAH,EAAAA,EAAAA,KAAAI,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAEuB,OAFvBF,EAAAC,KAAA,EAEIZ,GAAa,GAAMW,EAAAE,KAAA,GACIC,EAAAA,EAAAA,IAAW,EAAGZ,EAAWa,QAAQ,KAAD,EAAjDN,EAAQE,EAAAK,KACdpB,EAAgBa,EAASQ,MAAMN,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAO,GAAAP,EAAA,SAE/BQ,EAAAA,GAAMC,MAAM,+RAAyD,QAEjD,OAFiDT,EAAAC,KAAA,GAErEZ,GAAa,GAAOW,EAAAU,OAAA,6BAAAV,EAAAW,OAAA,GAAAd,EAAA,yBAEvBe,MAAA,KAAAC,UAAA,CAED,OAbyC,WACfpB,EAAAmB,MAAC,KAADC,UAAA,CAW1BC,GACO,WACL7B,EAAgB,IAChBM,EAAWwB,OACb,CACF,GAAG,CAAC9B,KAGF+B,EAAAA,EAAAA,KAAAC,EAAAA,SAAA,CAAAC,SACG9B,GACC4B,EAAAA,EAAAA,KAACG,EAAAA,EAAS,CAACC,MAAM,UAAUC,MAAM,UAEjCC,EAAAA,EAAAA,MAAClD,EAAW,CAAA8C,SAAA,EACVF,EAAAA,EAAAA,KAACO,EAAAA,EAAY,CAACC,MAAOxC,EAAcyC,MAAO,CAAEC,QAAS,MACrDV,EAAAA,EAAAA,KAACW,EAAAA,EAAc,QAKzB,E,8BC3CaC,EAAmBvD,EAAAA,GAAOC,IAAGC,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,+B,UCgH1C,EAhGqB,WACnB,IAAAI,GAAwCC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA7CiD,EAAY/C,EAAA,GAAEgD,EAAehD,EAAA,GACpCI,GAA0BL,EAAAA,EAAAA,UAAS,IAAGM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAA/B6C,EAAK5C,EAAA,GAAE6C,EAAQ7C,EAAA,GACtB8C,GAAgCpD,EAAAA,EAAAA,UAAS,IAAGqD,GAAAnD,EAAAA,EAAAA,GAAAkD,EAAA,GAArCE,EAAQD,EAAA,GAAEE,EAAWF,EAAA,GAC5BG,GAAkCxD,EAAAA,EAAAA,UAAS,IAAGyD,GAAAvD,EAAAA,EAAAA,GAAAsD,EAAA,GAAvCE,EAASD,EAAA,GAAEE,EAAYF,EAAA,GAC9BG,GAAkC5D,EAAAA,EAAAA,WAAS,GAAM6D,GAAA3D,EAAAA,EAAAA,GAAA0D,EAAA,GAA1CrD,EAASsD,EAAA,GAAErD,EAAYqD,EAAA,IAS9BpD,EAAAA,EAAAA,YAAU,WAER8C,GAAYO,EAAAA,EAAAA,IAAad,IAEzBW,GAAaI,EAAAA,EAAAA,IAAaf,GAC5B,GAAG,CAACA,IAkDJ,OACEP,EAAAA,EAAAA,MAAAL,EAAAA,SAAA,CAAAC,SAAA,EACEF,EAAAA,EAAAA,KAAC6B,EAAAA,EAAO,CAAA3B,UACNF,EAAAA,EAAAA,KAAC8B,EAAAA,EAAM,CACLC,OAnDO,SAACC,GAGd,IAAMC,GAAWC,EAAAA,EAAAA,IAAcF,GACzBG,GAAaC,EAAAA,EAAAA,IAAYJ,GAE/B,GAAIC,EAAU,CAGZ,IACeI,EAAM,eAAAC,GAAA5D,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAArB,SAAAC,EAAsBmD,GAAW,IAAAlD,EAAA,OAAAH,EAAAA,EAAAA,KAAAI,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAEX,OADpBb,GAAa,GACbyC,EAAgB,IAAI9B,EAAAC,KAAA,EAAAD,EAAAE,KAAA,GAEKqD,EAAAA,EAAAA,IAA4BP,GAAa,KAAD,GAAzDlD,EAAQE,EAAAK,OAGZyB,EAAgBhC,EAASQ,MAC1BN,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAO,GAAAP,EAAA,SAEDQ,EAAAA,GAAMC,MAAM,gGAAD+C,OAAsBR,GAAe,CAAES,UAAW,MAAQ,QAEjD,OAFiDzD,EAAAC,KAAA,GAErEZ,GAAa,GAAOW,EAAAU,OAAA,6BAAAV,EAAAW,OAAA,GAAAd,EAAA,wBAEvB,gBAdoB6D,GAAA,OAAAJ,EAAA1C,MAAC,KAADC,UAAA,KAHrBmB,EAASgB,GAkBTK,EAAOL,EACT,KAAO,CAAC,IACSK,EAAM,eAAAM,GAAAjE,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAArB,SAAAgE,EAAsBT,GAAU,IAAArD,EAAA,OAAAH,EAAAA,EAAAA,KAAAI,MAAA,SAAA8D,GAAA,cAAAA,EAAA5D,KAAA4D,EAAA3D,MAAA,OAGV,OADpBb,GAAa,GACbyC,EAAgB,IAAI+B,EAAA5D,KAAA,EAAA4D,EAAA3D,KAAA,GAEK4D,EAAAA,EAAAA,IAAqBX,GAAY,KAAD,GAAjDrD,EAAQ+D,EAAAxD,OAGZyB,EAAgBhC,EAASQ,MAC1BuD,EAAA3D,KAAA,gBAAA2D,EAAA5D,KAAA,EAAA4D,EAAAtD,GAAAsD,EAAA,SAEDrD,EAAAA,GAAMC,MAAM,gGAAD+C,OAAsBR,GAAe,CAAES,UAAW,MAAQ,QAEjD,OAFiDI,EAAA5D,KAAA,GAErEZ,GAAa,GAAOwE,EAAAnD,OAAA,6BAAAmD,EAAAlD,OAAA,GAAAiD,EAAA,wBAEvB,gBAfoBG,GAAA,OAAAJ,EAAA/C,MAAC,KAADC,UAAA,KAgBrBwC,EAAOF,EACT,CACF,EAOQ/D,UAAWA,EACX4E,KAlEY,WAClBlC,EAAgB,GAClB,EAiEQmC,YAAa7E,OAGjB4B,EAAAA,EAAAA,KAAC6B,EAAAA,EAAO,CAAA3B,UACNF,EAAAA,EAAAA,KAACY,EAAgB,CAAAV,SACdiB,EAAS+B,OAAS,GAAK3B,EAAU2B,OAAS,GACzClD,EAAAA,EAAAA,KAACmD,EAAAA,EAAa,CACZhC,SAAUA,EACVI,UAAWA,EACXR,MAAOA,KAGTf,EAAAA,EAAAA,KAACoD,EAAa,UAM1B,C","sources":["components/MaterialTable/MaterialTable.styled.js","components/MaterialTable/MaterialTable.jsx","pages/MaterialPage/MaterialPage.styled.js","pages/MaterialPage/MaterialPage.jsx"],"sourcesContent":["import styled from \"styled-components\";\r\n\r\nexport const ListWrapper = styled.div`\r\n  /* outline: 2px solid red; */\r\n  margin-left: -${(props) => props.theme.space[3]}px;\r\n`;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport MaterialList from \"../MaterialList/MaterialList\";\r\nimport { getByLevel } from \"../../services/api\";\r\nimport { toast } from \"react-toastify\";\r\nimport { BarLoader } from \"react-spinners\";\r\nimport { ListWrapper } from \"./MaterialTable.styled\";\r\nimport ScrollToTopBtn from \"../ScrollToTopBtn/ScrollToTopBtn\";\r\n\r\nconst MaterialTable = () => {\r\n  const [mainCategory, setMainCategory] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  // Запит по всі головні категорії при монтуванні компонента\r\n  useEffect(() => {\r\n    const controller = new AbortController();\r\n    async function getCategory() {\r\n      try {\r\n        setIsLoading(true);\r\n        const response = await getByLevel(0, controller.signal);\r\n        setMainCategory(response.data);\r\n      } catch {\r\n        toast.error(\"Щось пішло не так, спробуйте перезавантажити сторінку\");\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    }\r\n    getCategory();\r\n    return () => {\r\n      setMainCategory([]);\r\n      controller.abort();\r\n    };\r\n  }, [setMainCategory]);\r\n\r\n  return (\r\n    <>\r\n      {isLoading ? (\r\n        <BarLoader color=\"#125b56\" width=\"100%\" />\r\n      ) : (\r\n        <ListWrapper>\r\n          <MaterialList items={mainCategory} style={{ padding: 0 }} />\r\n          <ScrollToTopBtn />\r\n        </ListWrapper>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MaterialTable;\r\n","import styled from \"styled-components\";\r\n\r\nexport const MainTableWrapper = styled.div`\r\n  max-height: 85vh;\r\n`;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport MaterialTable from \"../../components/MaterialTable/MaterialTable\";\r\nimport Section from \"../../components/Section/Section\";\r\nimport Search from \"../../components/Search/Search\";\r\nimport {\r\n  searchMaterialByDescription,\r\n  searchMaterialByCode,\r\n} from \"../../services/api\";\r\nimport {\r\n  checkIsString,\r\n  parseNumber,\r\n  onLyCategory,\r\n  onLyMaterial,\r\n} from \"../../services\";\r\nimport { MainTableWrapper } from \"./MaterialPage.styled\";\r\nimport { toast } from \"react-toastify\";\r\nimport SearchResults from \"../../components/SearchResults/SearchResults\";\r\n\r\nconst MaterialPage = () => {\r\n  const [searchResult, setSearchResult] = useState([]);\r\n  const [query, setQuery] = useState(\"\");\r\n  const [category, setCategory] = useState([]);\r\n  const [materials, setMaterials] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  // Виклика8ється під час відправлення форми\r\n\r\n  const backToTable = () => {\r\n    setSearchResult([]);\r\n  };\r\n\r\n  // Розділення на категорії і матеріали\r\n  useEffect(() => {\r\n    // console.log(\"category\", onLyCategory(searchResult));\r\n    setCategory(onLyCategory(searchResult));\r\n    // console.log(\"materials\", onLyMaterial(searchResult));\r\n    setMaterials(onLyMaterial(searchResult));\r\n  }, [searchResult]);\r\n\r\n  // Пошук елементів\r\n  const submit = (searchValue) => {\r\n    // console.log(\"searchValue: \", searchValue);\r\n\r\n    const isString = checkIsString(searchValue);\r\n    const codeNumber = parseNumber(searchValue);\r\n\r\n    if (isString) {\r\n      setQuery(searchValue);\r\n\r\n      // console.log(`search ${searchValue} by description`);\r\n      async function search(searchValue) {\r\n        setIsLoading(true);\r\n        setSearchResult([]);\r\n        try {\r\n          const response = await searchMaterialByDescription(searchValue);\r\n          if (response) {\r\n            // console.log(response.data);\r\n            setSearchResult(response.data);\r\n          }\r\n        } catch {\r\n          toast.error(`Не вдалось знайти ${searchValue}`, { autoClose: 3000 });\r\n        } finally {\r\n          setIsLoading(false);\r\n        }\r\n      }\r\n      search(searchValue);\r\n    } else {\r\n      async function search(codeNumber) {\r\n        // console.log(`search ${codeNumber} by code`);\r\n        setIsLoading(true);\r\n        setSearchResult([]);\r\n        try {\r\n          const response = await searchMaterialByCode(codeNumber);\r\n          // console.log(response.data);\r\n          if (response) {\r\n            setSearchResult(response.data);\r\n          }\r\n        } catch {\r\n          toast.error(`Не вдалось знайти ${searchValue}`, { autoClose: 3000 });\r\n        } finally {\r\n          setIsLoading(false);\r\n        }\r\n      }\r\n      search(codeNumber);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Section>\r\n        <Search\r\n          submit={submit}\r\n          isLoading={isLoading}\r\n          back={backToTable}\r\n          isSubmiting={isLoading}\r\n        />\r\n      </Section>\r\n      <Section>\r\n        <MainTableWrapper>\r\n          {category.length > 0 || materials.length > 0 ? (\r\n            <SearchResults\r\n              category={category}\r\n              materials={materials}\r\n              query={query}\r\n            />\r\n          ) : (\r\n            <MaterialTable />\r\n          )}\r\n        </MainTableWrapper>\r\n      </Section>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MaterialPage;\r\n"],"names":["ListWrapper","styled","div","_templateObject","_taggedTemplateLiteral","props","theme","space","_useState","useState","_useState2","_slicedToArray","mainCategory","setMainCategory","_useState3","_useState4","isLoading","setIsLoading","useEffect","controller","AbortController","_getCategory","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_context","prev","next","getByLevel","signal","sent","data","t0","toast","error","finish","stop","apply","arguments","getCategory","abort","_jsx","_Fragment","children","BarLoader","color","width","_jsxs","MaterialList","items","style","padding","ScrollToTopBtn","MainTableWrapper","searchResult","setSearchResult","query","setQuery","_useState5","_useState6","category","setCategory","_useState7","_useState8","materials","setMaterials","_useState9","_useState10","onLyCategory","onLyMaterial","Section","Search","submit","searchValue","isString","checkIsString","codeNumber","parseNumber","search","_ref","searchMaterialByDescription","concat","autoClose","_x","_ref2","_callee2","_context2","searchMaterialByCode","_x2","back","isSubmiting","length","SearchResults","MaterialTable"],"sourceRoot":""}