{"version":3,"file":"static/js/57.7d7c8a92.chunk.js","mappings":"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","sources":["pages/MaterialPage/MaterialPage.styled.js","pages/MaterialPage/MaterialPage.jsx"],"sourcesContent":["import styled from \"styled-components\";\r\n\r\nexport const MainTableWrapper = styled.div`\r\n  max-height: 85vh;\r\n`;\r\n","import React, { useState } from \"react\";\r\nimport MaterialTable from \"../../components/MaterialTable/MaterialTable\";\r\nimport Section from \"../../components/Section/Section\";\r\nimport Search from \"../../components/Search/Search\";\r\nimport {\r\n  searchMaterialByDescription,\r\n  searchMaterialByCode,\r\n} from \"../../services/api\";\r\nimport { checkIsString, parseNumber } from \"../../services\";\r\nimport { MainTableWrapper } from \"./MaterialPage.styled\";\r\nimport { toast } from \"react-toastify\";\r\nimport SearchResults from \"../../components/SearchResults/SearchResults\";\r\n\r\nconst MaterialPage = () => {\r\n  const [searchResult, setSearchResult] = useState([]);\r\n  const [query, setQuery] = useState(\"\");\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  // Виклика8ється під час відправлення форми\r\n\r\n  const backToTable = () => {\r\n    setSearchResult([]);\r\n  };\r\n\r\n  // Пошук елементів\r\n  const submit = (searchValue) => {\r\n    // console.log(\"searchValue: \", searchValue);\r\n\r\n    const isString = checkIsString(searchValue);\r\n    const codeNumber = parseNumber(searchValue);\r\n\r\n    if (isString) {\r\n      setQuery(searchValue);\r\n\r\n      // console.log(`search ${searchValue} by description`);\r\n      async function search(searchValue) {\r\n        setIsLoading(true);\r\n        setSearchResult([]);\r\n        try {\r\n          const response = await searchMaterialByDescription(searchValue);\r\n          if (response) {\r\n            // console.log(response.data);\r\n            setSearchResult(response.data);\r\n          }\r\n        } catch {\r\n          toast.error(`Не вдалось знайти ${searchValue}`, { autoClose: 3000 });\r\n        } finally {\r\n          setIsLoading(false);\r\n        }\r\n      }\r\n      search(searchValue);\r\n    } else {\r\n      async function search(codeNumber) {\r\n        // console.log(`search ${codeNumber} by code`);\r\n        setIsLoading(true);\r\n        setSearchResult([]);\r\n        try {\r\n          const response = await searchMaterialByCode(codeNumber);\r\n          // console.log(response.data);\r\n          if (response) {\r\n            setSearchResult(response.data);\r\n          }\r\n        } catch {\r\n          toast.error(`Не вдалось знайти ${searchValue}`, { autoClose: 3000 });\r\n        } finally {\r\n          setIsLoading(false);\r\n        }\r\n      }\r\n      search(codeNumber);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Section>\r\n        <Search\r\n          submit={submit}\r\n          isLoading={isLoading}\r\n          back={backToTable}\r\n          isSubmiting={isLoading}\r\n        />\r\n      </Section>\r\n      <Section>\r\n        <MainTableWrapper>\r\n          {searchResult.length > 0 ? (\r\n            <SearchResults\r\n              results={searchResult}\r\n              query={query}\r\n              variant=\"material\"\r\n            />\r\n          ) : (\r\n            <MaterialTable />\r\n          )}\r\n        </MainTableWrapper>\r\n      </Section>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MaterialPage;\r\n"],"names":["MainTableWrapper","styled","div","_templateObject","_taggedTemplateLiteral","_useState","useState","_useState2","_slicedToArray","searchResult","setSearchResult","_useState3","_useState4","query","setQuery","_useState5","_useState6","isLoading","setIsLoading","_jsxs","_Fragment","children","_jsx","Section","Search","submit","searchValue","isString","checkIsString","codeNumber","parseNumber","search","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_context","prev","next","searchMaterialByDescription","sent","data","t0","toast","error","concat","autoClose","finish","stop","_x","apply","arguments","_ref2","_callee2","_context2","searchMaterialByCode","_x2","back","isSubmiting","length","SearchResults","results","variant","MaterialTable"],"sourceRoot":""}