{"version":3,"file":"static/js/592.0a749860.chunk.js","mappings":"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","sources":["components/SearchResults/SearchResults.jsx","components/Search/Search.styled.js","components/Search/Search.jsx","components/MaterialTable/MaterialTable.styled.js","components/MaterialTable/MaterialTable.jsx","pages/MaterialPage/MaterialPage.styled.js","pages/MaterialPage/MaterialPage.jsx"],"sourcesContent":["import React from \"react\";\r\nimport MaterialList from \"../MaterialList/MaterialList\";\r\nimport ServiceList from \"../ServiceList/ServiceList\";\r\n\r\nconst SearchResults = ({ results, query, variant, byId }) => {\r\n  if (variant === \"material\") {\r\n    return (\r\n      <div>\r\n        {results.length > 0 && (\r\n          <MaterialList items={results} query={query} byId={byId} />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n  if (variant === \"service\") {\r\n    return (\r\n      <div>\r\n        {results.length > 0 && (\r\n          <ServiceList items={results} query={query} byId={byId} />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default SearchResults;\r\n","import styled from \"styled-components\";\r\n\r\nexport const FormStyled = styled.form`\r\n  padding-top: 5px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 100%;\r\n  height: 40px;\r\n  margin-bottom: ${(props) => props.theme.space[2]}px;\r\n  @media screen and (min-width: 680px) {\r\n    width: 40%;\r\n  }\r\n`;\r\n\r\nexport const Label = styled.label`\r\n  width: 100%;\r\n`;\r\nexport const Input = styled.input`\r\n  font-size: ${(props) => props.theme.fontSizes.m};\r\n  width: 100%;\r\n  padding: 9px;\r\n  box-sizing: border-box;\r\n  border-top: ${(props) => props.theme.borders.bold};\r\n  border-bottom: ${(props) => props.theme.borders.bold};\r\n  border-left: ${(props) => props.theme.borders.none};\r\n  border-right: ${(props) => props.theme.borders.none};\r\n  text-decoration: none;\r\n  &:focus {\r\n    border-top: ${(props) => props.theme.borders.bold};\r\n    border-bottom: ${(props) => props.theme.borders.bold};\r\n    border-left: ${(props) => props.theme.borders.none};\r\n    border-right: ${(props) => props.theme.borders.none};\r\n  }\r\n`;\r\n","import React, { useState } from \"react\";\r\nimport { FormStyled, Input, Label } from \"./Search.styled\";\r\nimport { SearchButton, BackButton } from \"../Button/Button\";\r\n\r\nimport { IoSearch } from \"react-icons/io5\";\r\nimport { IoMdBackspace } from \"react-icons/io\";\r\nimport { toast } from \"react-toastify\";\r\nimport { BarLoader } from \"react-spinners\";\r\n\r\nconst Search = ({ submit, isLoading, back, isSubmiting }) => {\r\n  const [searchValue, setSearchValue] = useState(\"\");\r\n\r\n  const handleChange = (event) => {\r\n    const normalizedQuery = event.currentTarget.value.toLowerCase();\r\n    setSearchValue(normalizedQuery);\r\n  };\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    if (searchValue.trim().length < 1) {\r\n      toast.error(\"Введіть запит в поле пошуку\");\r\n      return;\r\n    } else submit(searchValue.trim());\r\n  };\r\n\r\n  const clearQuery = () => {\r\n    setSearchValue(\"\");\r\n    back();\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <FormStyled onSubmit={handleSubmit}>\r\n        <BackButton\r\n          icon={IoMdBackspace}\r\n          type=\"button\"\r\n          onClick={clearQuery}\r\n        ></BackButton>\r\n        <Label>\r\n          <Input\r\n            name=\"search\"\r\n            type=\"text\"\r\n            onChange={handleChange}\r\n            value={searchValue}\r\n          ></Input>\r\n        </Label>\r\n        <SearchButton\r\n          icon={IoSearch}\r\n          type=\"submit\"\r\n          onClick={handleSubmit}\r\n          disabled={isSubmiting}\r\n        ></SearchButton>\r\n      </FormStyled>\r\n      {isLoading && <BarLoader color=\"#125b56\" width=\"100%\" />}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n// _____________________________________________________________________________________\r\n","import styled from \"styled-components\";\r\n\r\nexport const ListWrapper = styled.div`\r\n  /* outline: 2px solid red; */\r\n  margin-left: -${(props) => props.theme.space[3]}px;\r\n`;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport MaterialList from \"../MaterialList/MaterialList\";\r\nimport { getByLevel } from \"../../services/api\";\r\nimport { toast } from \"react-toastify\";\r\nimport { BarLoader } from \"react-spinners\";\r\nimport { ListWrapper } from \"./MaterialTable.styled\";\r\nimport ScrollToTopBtn from \"../ScrollToTopBtn/ScrollToTopBtn\";\r\n\r\nconst MaterialTable = ({ byId }) => {\r\n  const [mainCategory, setMainCategory] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  // Запит по всі головні категорії при монтуванні компонента\r\n  useEffect(() => {\r\n    const controller = new AbortController();\r\n    async function getCategory() {\r\n      try {\r\n        setIsLoading(true);\r\n        const response = await getByLevel(2, controller.signal);\r\n        setMainCategory(response.data);\r\n      } catch {\r\n        toast.error(\"Щось пішло не так, спробуйте перезавантажити сторінку\");\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    }\r\n    getCategory();\r\n    return () => {\r\n      setMainCategory([]);\r\n      controller.abort();\r\n    };\r\n  }, [setMainCategory]);\r\n\r\n  return (\r\n    <>\r\n      {isLoading ? (\r\n        <BarLoader color=\"#125b56\" width=\"100%\" />\r\n      ) : (\r\n        <ListWrapper>\r\n          <MaterialList\r\n            items={mainCategory}\r\n            style={{ padding: 0 }}\r\n            byId={byId}\r\n          />\r\n          <ScrollToTopBtn />\r\n        </ListWrapper>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MaterialTable;\r\n","import styled from \"styled-components\";\r\n\r\nexport const MainTableWrapper = styled.div`\r\n  max-height: 85vh;\r\n`;\r\nexport const SearchWrapper = styled.div`\r\n  display: flex;\r\n  gap: 10px;\r\n  align-items: center;\r\n`;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport MaterialTable from \"../../components/MaterialTable/MaterialTable\";\r\nimport Section from \"../../components/Section/Section\";\r\nimport Search from \"../../components/Search/Search\";\r\nimport SearchResults from \"../../components/SearchResults/SearchResults\";\r\nimport UnitSelect from \"../../components/UnitSelect/UnitSelect\";\r\nimport { createOptionsFromUnits } from \"../../services\";\r\nimport { checkIsString, parseNumber } from \"../../services\";\r\nimport { MainTableWrapper, SearchWrapper } from \"./MaterialPage.styled\";\r\nimport { toast } from \"react-toastify\";\r\nimport {\r\n  searchMaterialByDescription,\r\n  searchMaterialByCode,\r\n  getMaterialById,\r\n} from \"../../services/api\";\r\nimport MaterialList from \"../../components/MaterialList/MaterialList\";\r\n\r\nconst MaterialPage = () => {\r\n  const [searchResult, setSearchResult] = useState([]);\r\n  const [filteredResults, setFilteredResults] = useState([]);\r\n  const [unit, setUnit] = useState(null);\r\n  const [options, setOptions] = useState(null);\r\n  const [query, setQuery] = useState(\"\");\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [material, setMaterial] = useState([]);\r\n  const [status, setStatus] = useState(\"materials\"); // визначає що буде показано, матеріали чи результат пошуку по дереву\r\n\r\n  useEffect(() => {\r\n    const getVisibleMaterials = () => {\r\n      if (unit) {\r\n        return searchResult.filter((item) => item.Unit === unit);\r\n      }\r\n      return searchResult;\r\n    };\r\n    setFilteredResults(getVisibleMaterials);\r\n  }, [options, searchResult, unit]);\r\n\r\n  // Викликається під час відправлення форми\r\n  const backToTable = () => {\r\n    setSearchResult([]);\r\n    setFilteredResults([]);\r\n    setUnit(null);\r\n    setStatus(\"materials\");\r\n  };\r\n\r\n  // вибір одиниці виміру\r\n  const selectUnit = (option) => {\r\n    setUnit(option.value);\r\n  };\r\n\r\n  // Пошук елементів\r\n  const submit = (searchValue) => {\r\n    setStatus(\"search\");\r\n    const isString = checkIsString(searchValue);\r\n    const codeNumber = parseNumber(searchValue);\r\n\r\n    if (isString) {\r\n      setQuery(searchValue);\r\n\r\n      // console.log(`search ${searchValue} by description`);\r\n      async function search(searchValue) {\r\n        setIsLoading(true);\r\n        setSearchResult([]);\r\n        try {\r\n          const response = await searchMaterialByDescription(searchValue);\r\n          if (response) {\r\n            setSearchResult(response.data);\r\n\r\n            // зробити опції для фільтру по unit\r\n            setOptions(createOptionsFromUnits(response.data));\r\n          }\r\n        } catch {\r\n          toast.error(`Не вдалось знайти ${searchValue}`, { autoClose: 3000 });\r\n        } finally {\r\n          setIsLoading(false);\r\n        }\r\n      }\r\n      search(searchValue);\r\n    } else {\r\n      async function search(codeNumber) {\r\n        // console.log(`search ${codeNumber} by code`);\r\n        setIsLoading(true);\r\n        setSearchResult([]);\r\n        try {\r\n          const response = await searchMaterialByCode(codeNumber);\r\n          // console.log(response.data);\r\n          if (response) {\r\n            setSearchResult(response.data);\r\n            setOptions(createOptionsFromUnits(response.data));\r\n          }\r\n        } catch {\r\n          toast.error(`Не вдалось знайти ${searchValue}`, { autoClose: 3000 });\r\n        } finally {\r\n          setIsLoading(false);\r\n        }\r\n      }\r\n      search(codeNumber);\r\n    }\r\n  };\r\n\r\n  // Отримати по id\r\n  const materialById = (id) => {\r\n    setStatus(\"oneMaterial\");\r\n    const controller = new AbortController();\r\n    async function getMaterial(id) {\r\n      try {\r\n        //  setIsLoading(true);\r\n        const response = await getMaterialById(id, controller.signal);\r\n\r\n        setMaterial([response.data]);\r\n      } catch {\r\n        toast.error(\"Не вдалось отримати матеріал\");\r\n      } finally {\r\n        //  setIsLoading(false);\r\n      }\r\n    }\r\n    getMaterial(id);\r\n    return () => {\r\n      controller.abort();\r\n    };\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Section>\r\n        <SearchWrapper>\r\n          <Search\r\n            submit={submit}\r\n            isLoading={isLoading}\r\n            back={backToTable}\r\n            isSubmiting={isLoading}\r\n          />\r\n          <div style={{ minWidth: \"20%\" }}>\r\n            {searchResult?.length > 0 && (\r\n              <UnitSelect onSelect={selectUnit} options={options} />\r\n            )}\r\n          </div>\r\n        </SearchWrapper>\r\n      </Section>\r\n\r\n      <Section>\r\n        <MainTableWrapper>\r\n          {status === \"materials\" && <MaterialTable byId={materialById} />}\r\n\r\n          {status === \"oneMaterial\" && (\r\n            <MaterialList items={material} byId={materialById} />\r\n          )}\r\n\r\n          {status === \"search\" && (\r\n            <SearchResults\r\n              results={filteredResults}\r\n              query={query}\r\n              variant=\"material\"\r\n              byId={materialById}\r\n            />\r\n          )}\r\n        </MainTableWrapper>\r\n      </Section>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MaterialPage;\r\n"],"names":["_ref","results","query","variant","byId","_jsx","children","length","MaterialList","items","ServiceList","FormStyled","styled","form","_templateObject","_taggedTemplateLiteral","props","theme","space","Label","label","_templateObject2","Input","input","_templateObject3","fontSizes","m","borders","bold","none","submit","isLoading","back","isSubmiting","_useState","useState","_useState2","_slicedToArray","searchValue","setSearchValue","handleSubmit","event","preventDefault","trim","toast","error","_jsxs","_Fragment","onSubmit","BackButton","icon","IoMdBackspace","type","onClick","name","onChange","normalizedQuery","currentTarget","value","toLowerCase","SearchButton","IoSearch","disabled","BarLoader","color","width","ListWrapper","div","mainCategory","setMainCategory","_useState3","_useState4","setIsLoading","useEffect","controller","AbortController","_getCategory","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_context","prev","next","getByLevel","signal","sent","data","t0","finish","stop","apply","arguments","getCategory","abort","style","padding","ScrollToTopBtn","MainTableWrapper","SearchWrapper","searchResult","setSearchResult","filteredResults","setFilteredResults","_useState5","_useState6","unit","setUnit","_useState7","_useState8","options","setOptions","_useState9","_useState10","setQuery","_useState11","_useState12","_useState13","_useState14","material","setMaterial","_useState15","_useState16","status","setStatus","filter","item","Unit","materialById","id","_getMaterial","_callee3","_context3","getMaterialById","_x3","getMaterial","Section","Search","isString","checkIsString","codeNumber","parseNumber","search","searchMaterialByDescription","createOptionsFromUnits","concat","autoClose","_x","_ref2","_callee2","_context2","searchMaterialByCode","_x2","minWidth","UnitSelect","onSelect","option","MaterialTable","SearchResults"],"sourceRoot":""}